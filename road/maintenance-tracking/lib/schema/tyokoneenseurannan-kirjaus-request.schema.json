{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "urn:harja",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "otsikko",
    "havainnot"
  ],
  "properties": {
    "otsikko": {
      "id": "urn:harja/otsikko",
      "type": "object",
      "additionalProperties": false,
      "$ref": "entities/otsikko.schema.json"
    },
    "havainnot": {
      "id": "urn:harja/havainnot",
      "type": "array",
      "maxItems": 4096,
      "items": {

        "type": "object",
        "additionalProperties": false,
        "required": [
          "havainto"
        ],
        "properties": {
          "havainto": {
            "id": "urn:harja/havainnot/0",
            "type": "object",
            "required": [
              "tyokone",
              "sijainti",
              "havaintoaika"
            ],
            "properties": {
              "tyokone": {
                "id": "urn:harja/havainnot/0/tyokone",
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "id",
                  "tyokonetyyppi"
                ],
                "properties": {
                  "id": {
                    "id": "urn:harja/havainnot/0/tyokone/id",
                    "type": "integer"
                  },
                  "tunnus": {
                    "id": "urn:harja/havainnot/0/tyokone/tunnus",
                    "type": "string"
                  },
                  "tyokonetyyppi": {
                    "id": "urn:harja/havainnot/0/tyokone/tyyppi",
                    "type": "string"
                  }
                }
              },
              "sijainti": {
                "id": "urn:harja/havainnot/0/sijainti",
                "type": "object",
                "additionalProperties": false,
                "$ref": "entities/geometria-sijainti.schema.json"
              },
              "suunta": {
                "id": "urn:harja/havainnot/0/suunta",
                "type": "number"
              },
              "urakkaid": {
                "id": "urn:harja/havainnot/0/urakkaid",
                "type": "integer"
              },
              "havaintoaika": {
                "id": "urn:harja/havainnot/0/havaintoaika",
                "type": "string",
                "format": "date-time"
              },
              "suoritettavatTehtavat": {
                "id": "urn:harja/havainnot/0/tyokonetehtava",
                "type": "array",
                "maxItems": 10,
                "items": {
                  "enum": [
                    "asfaltointi",
                    "auraus ja sohjonpoisto",
                    "aurausviitoitus ja kinostimet",
                    "harjaus",
                    "jyrays",
                    "kelintarkastus",
                    "koneellinen niitto",
                    "koneellinen vesakonraivaus",
                    "kuumennus",
                    "l- ja p-alueiden puhdistus",
                    "liikennemerkkien puhdistus",
                    "liik. opast. ja ohjausl. hoito seka reunapaalujen kun.pito",
                    "linjahiekoitus",
                    "lumensiirto",
                    "lumivallien madaltaminen",
                    "muu",
                    "ojitus",
                    "paallysteiden juotostyot",
                    "paallysteiden paikkaus",
                    "paannejaan poisto",
                    "palteen poisto",
                    "pinnan tasaus",
                    "pistehiekoitus",
                    "paallystetyn tien sorapientareen taytto",
                    "sekoitus tai stabilointi",
                    "siltojen puhdistus",
                    "sorastus",
                    "sorapientareen taytto",
                    "sorateiden muokkaushoylays",
                    "sorateiden polynsidonta",
                    "sorateiden tasaus",
                    "sulamisveden haittojen torjunta",
                    "suolaus",
                    "tiemerkinta",
                    "tiestotarkastus",
                    "tilaajan laadunvalvonta",
                    "turvalaite"
                  ]
                }
              }
            }
          }
        }
      }
    }
  }
}
